<div class="container">
  <%# ---- Titre ---- %>
  <div id='booking-title'>
    <h1>My bookings</h1>
    <%# <h4><%=# pluralize @bookings.size, 'booking'</h4> %>
  </div>
  <%# ---- Boutton Sitter et Owner ---- %>
  <div class="btn-user">
    <%= link_to "Sitter", bookings_path(type: "sitter"), class: "btn-user-status #{"active" if params["type"] == "sitter"}" %>
    <%= link_to "Owner", bookings_path, class: "btn-user-status #{"active" if params["type"] != "sitter"}" %>
  </div>
  <%# ---- Card bookings ---- %>
  <div class="card-container">
    <% @bookings.each do |booking| %>
      <div class="cards-category m-4">
        <% if booking.user == current_user %>
          <%# ---- Pour voir quand tu as bookÃ© un sitter ---- %>
          <% if @bookings.any? %>
            <div class="inner-card">
              <h4><%= booking.profile_sitter.user.first_name %></h4>
            </div>
            <div class="inner-card">
              <p><%= booking.start_date %></p>
              <p><%= booking.end_date %></p>
            </div>
            <%= image_tag 'paris-map.jpg', height: 180, width: 238, id: "map" %>
            <div class="inner-card">
              <p><%= booking.status %></p>
            </div>
            <% if booking.status == 'No answer' %>
              <%= link_to accepts_booking_path(booking), method: :patch, class: "btn-accept-decline", id: 'accepts' do %>
                <i class="fas fa-check"></i>
              <% end %>
            <% end %>
          <% else %>
            <div class="card-check-sitters">
              <h4>You don't have any bookings yet!</h4>
              <div class="btn-check-sitters">
                <p><%= link_to 'Check sitters available around you!', profile_sitters_path, class: "btn btn-ghost" %></p>
              </div>
            </div>
          <% end %>
        <% else %>
          <%# ---- Pour voir quand tu es bookÃ© en tant que sitter ---- %>
          <% if @bookings.any? %>
            <div class="inner-card">
              <h4><%= booking.user.first_name %></h4>
            </div>
            <div class="inner-card">
              <p><%= booking.start_date %></p>
              <p><%= booking.end_date %></p>
            </div>
            <%= image_tag 'paris-map.jpg', height: 180, width: 238, id: "map" %>
            <div class="inner-card">
              <p><%= booking.status %></p>
            </div>
            <div class="d-flex accept-decline">
              <% if booking.status == 'No answer' %>
                <%= link_to accepts_booking_path(booking), method: :patch, class: "btn-accept-decline", id: 'accepts' do %>
                  <i class="fas fa-check"></i>
                <% end %>
                <%= link_to decline_booking_path(booking), method: :patch, class: "btn-accept-decline", id: 'declines' do %>
                  <i class="fas fa-times"></i>
                <% end %>
              <% end %>
            </div>
          <% else %>
            <div class="card-check-sitters">
              <h4>Nobody booked you yet! ðŸ˜¿</h4>
              <div class="btn-check-sitters">
                <%# <p><%= link_to 'Change your availibilities!', !!!!, class: "btn btn-ghost" %></p>
              </div>
            </div>
          <% end %>
        <% end %>
      </div>
    <% end %>
  </div>
<%# <% end %>

<%# si pas de booking, rajouter une phrase qui dis 'you haven't any booking yet' %>
<%# triple bouton, quand tu cliques sur 'no anwser' ou 'decline' ou 'accepted'
 il change le status avec la string en question --> javascript %>
 <%# quand 'decline' la card se supprime de tous les bookings %>
<%# quand il clique sur 'accept' le booking est rajoutÃ© Ã  ceux du pet owner %>
